<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>mpvue-template-compiler | mpvue.com</title>
    <meta name="description" content="mpvue document">
    <link rel="icon" href="/techthink/">
    
    <link rel="preload" href="/techthink/assets/css/0.styles.430d4046.css" as="style"><link rel="preload" href="/techthink/assets/js/app.7b5c53e5.js" as="script"><link rel="preload" href="/techthink/assets/js/2.7e3077ca.js" as="script"><link rel="preload" href="/techthink/assets/js/17.7a1d5864.js" as="script"><link rel="prefetch" href="/techthink/assets/js/10.a45aee8c.js"><link rel="prefetch" href="/techthink/assets/js/11.46b2c560.js"><link rel="prefetch" href="/techthink/assets/js/12.651b4ca0.js"><link rel="prefetch" href="/techthink/assets/js/13.2210049b.js"><link rel="prefetch" href="/techthink/assets/js/14.260c888d.js"><link rel="prefetch" href="/techthink/assets/js/15.5736afd6.js"><link rel="prefetch" href="/techthink/assets/js/16.9d9845d3.js"><link rel="prefetch" href="/techthink/assets/js/18.4960df51.js"><link rel="prefetch" href="/techthink/assets/js/19.42906405.js"><link rel="prefetch" href="/techthink/assets/js/20.834fbdab.js"><link rel="prefetch" href="/techthink/assets/js/3.21c82aae.js"><link rel="prefetch" href="/techthink/assets/js/4.ea251d3c.js"><link rel="prefetch" href="/techthink/assets/js/5.084a8e6f.js"><link rel="prefetch" href="/techthink/assets/js/6.26a104c3.js"><link rel="prefetch" href="/techthink/assets/js/7.253f6987.js"><link rel="prefetch" href="/techthink/assets/js/8.aad0e4ab.js"><link rel="prefetch" href="/techthink/assets/js/9.78c281e5.js">
    <link rel="stylesheet" href="/techthink/assets/css/0.styles.430d4046.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/techthink/" class="home-link router-link-active"><!----> <span class="site-name">mpvue.com</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/techthink/" class="nav-link">扶뒬못</a></div><div class="nav-item"><a href="/techthink/qa.html" class="nav-link">Q&amp;A</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">build</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/techthink/build/index.html" class="nav-link">index</a></li><li class="dropdown-item"><!----> <a href="/techthink/build/mpvue-webpack-target.html" class="nav-link">mpvue-webpack-target</a></li><li class="dropdown-item"><!----> <a href="/techthink/build/postcss-mpvue-wxss.html" class="nav-link">postcss-mpvue-wxss</a></li><li class="dropdown-item"><!----> <a href="/techthink/build/px2rpx-loader.html" class="nav-link">px2rpx-loader</a></li><li class="dropdown-item"><!----> <a href="/techthink/build/mpvue-lint.html" class="nav-link">mpvue-lint</a></li><li class="dropdown-item"><!----> <a href="/techthink/build/webpack-mpvue-asset-plugin.html" class="nav-link">webpack-mpvue-asset-plugin</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">mpvue</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/techthink/mpvue/index.html" class="nav-link">index</a></li><li class="dropdown-item"><!----> <a href="/techthink/mpvue/mpvue-template-compiler.html" class="nav-link router-link-exact-active router-link-active">mpvue-template-compiler</a></li><li class="dropdown-item"><!----> <a href="/techthink/mpvue/quickstart.html" class="nav-link">quickstart</a></li><li class="dropdown-item"><!----> <a href="/techthink/mpvue/simple.html" class="nav-link">Simple</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">changelog</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/techthink/change-log/index.html" class="nav-link">index</a></li><li class="dropdown-item"><!----> <a href="/techthink/change-log/2018.7.24.html" class="nav-link">2018.7.24</a></li></ul></div></div> <a href="https://github.com/hucq/techthink" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/techthink/" class="nav-link">扶뒬못</a></div><div class="nav-item"><a href="/techthink/qa.html" class="nav-link">Q&amp;A</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">build</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/techthink/build/index.html" class="nav-link">index</a></li><li class="dropdown-item"><!----> <a href="/techthink/build/mpvue-webpack-target.html" class="nav-link">mpvue-webpack-target</a></li><li class="dropdown-item"><!----> <a href="/techthink/build/postcss-mpvue-wxss.html" class="nav-link">postcss-mpvue-wxss</a></li><li class="dropdown-item"><!----> <a href="/techthink/build/px2rpx-loader.html" class="nav-link">px2rpx-loader</a></li><li class="dropdown-item"><!----> <a href="/techthink/build/mpvue-lint.html" class="nav-link">mpvue-lint</a></li><li class="dropdown-item"><!----> <a href="/techthink/build/webpack-mpvue-asset-plugin.html" class="nav-link">webpack-mpvue-asset-plugin</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">mpvue</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/techthink/mpvue/index.html" class="nav-link">index</a></li><li class="dropdown-item"><!----> <a href="/techthink/mpvue/mpvue-template-compiler.html" class="nav-link router-link-exact-active router-link-active">mpvue-template-compiler</a></li><li class="dropdown-item"><!----> <a href="/techthink/mpvue/quickstart.html" class="nav-link">quickstart</a></li><li class="dropdown-item"><!----> <a href="/techthink/mpvue/simple.html" class="nav-link">Simple</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">changelog</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/techthink/change-log/index.html" class="nav-link">index</a></li><li class="dropdown-item"><!----> <a href="/techthink/change-log/2018.7.24.html" class="nav-link">2018.7.24</a></li></ul></div></div> <a href="https://github.com/hucq/techthink" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="mpvue-template-compiler"><a href="#mpvue-template-compiler" aria-hidden="true" class="header-anchor">#</a> mpvue-template-compiler</h1> <blockquote><p>This package is auto-generated. For pull requests please see <a href="https://github.com/Meituan-Dianping/mpvue/blob/master/src/platforms/mp/entry-compiler.js" target="_blank" rel="noopener noreferrer">src/platforms/mp/entry-compiler.js<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></blockquote> <p>This package can be used to pre-compile Vue 2.0 templates into render functions to avoid runtime-compilation overhead and CSP restrictions. You will only need it if you are writing build tools with very specific needs. In most cases you should be using <a href="http://mpvue.com/build-tool/mpvue-loader/" target="_blank" rel="noopener noreferrer">mpvue-loader<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> instead, both of which use this package internally.</p> <h2 id="installation"><a href="#installation" aria-hidden="true" class="header-anchor">#</a> Installation</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> mpvue-template-compiler
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> compiler <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mpvue-template-compiler'</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="api"><a href="#api" aria-hidden="true" class="header-anchor">#</a> API</h2> <h3 id="compiler-compile-template-options"><a href="#compiler-compile-template-options" aria-hidden="true" class="header-anchor">#</a> compiler.compile(template, [options])</h3> <p>Compiles a template string and returns compiled JavaScript code. The returned result is an object of the following format:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  ast<span class="token punctuation">:</span> <span class="token operator">?</span>ASTElement<span class="token punctuation">,</span> <span class="token comment">// parsed template elements to AST</span>
  render<span class="token punctuation">:</span> string<span class="token punctuation">,</span> <span class="token comment">// main render function code</span>
  staticRenderFns<span class="token punctuation">:</span> Array<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token comment">// render code for static sub trees, if any</span>
  errors<span class="token punctuation">:</span> Array<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span> <span class="token comment">// template syntax errors, if any</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Note the returned function code uses <code>with</code> and thus cannot be used in strict mode code.</p> <h4 id="options"><a href="#options" aria-hidden="true" class="header-anchor">#</a> Options</h4> <p>It's possible to hook into the compilation process to support custom template features. <strong>However, beware that by injecting custom compile-time modules, your templates will not work with other build tools built on standard built-in modules, e.g <code>mpvue-loader</code> and <code>vueify</code>.</strong></p> <p>The optional <code>options</code> object can contain the following:</p> <ul><li><p><code>modules</code></p> <p>An array of compiler modules. For details on compiler modules, refer to the <code>ModuleOptions</code> type in <a href="https://github.com/vuejs/vue/blob/dev/flow/compiler.js" target="_blank" rel="noopener noreferrer">flow declarations<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and the <a href="https://github.com/vuejs/vue/tree/dev/src/platforms/web/compiler/modules" target="_blank" rel="noopener noreferrer">built-in modules<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></li> <li><p><code>directives</code></p> <p>An object where the key is the directive name and the value is a function that transforms an template AST node. For example:</p> <div class="language-js extra-class"><pre class="language-js"><code>compiler<span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">'&lt;div v-test&gt;&lt;/div&gt;'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  directives<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">test</span> <span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> directiveMeta</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// transform node based on directiveMeta</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>By default, a compile-time directive will extract the directive and the directive will not be present at runtime. If you want the directive to also be handled by a runtime definition, return <code>true</code> in the transform function.</p> <p>Refer to the implementation of some <a href="https://github.com/vuejs/vue/tree/dev/src/platforms/web/compiler/directives" target="_blank" rel="noopener noreferrer">built-in compile-time directives<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></li> <li><p><code>preserveWhitespace</code></p> <p>Defaults to <code>true</code>. This means the compiled render function respects all the whitespaces between HTML tags. If set to <code>false</code>, all whitespaces between tags will be ignored. This can result in slightly better performance but may affect layout for inline elements.</p></li></ul> <hr> <h3 id="compiler-compiletofunctions-template"><a href="#compiler-compiletofunctions-template" aria-hidden="true" class="header-anchor">#</a> compiler.compileToFunctions(template)</h3> <p>Similar to <code>compiler.compile</code>, but directly returns instantiated functions:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  render<span class="token punctuation">:</span> Function<span class="token punctuation">,</span>
  staticRenderFns<span class="token punctuation">:</span> Array<span class="token operator">&lt;</span>Function<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This is only useful at runtime with pre-configured builds, so it doesn't accept any compile-time options. In addition, this method uses <code>new Function()</code> so it is not CSP-compliant.</p> <hr> <h3 id="compiler-ssrcompile-template-options"><a href="#compiler-ssrcompile-template-options" aria-hidden="true" class="header-anchor">#</a> compiler.ssrCompile(template, [options])</h3> <blockquote><p>2.4.0+</p></blockquote> <p>Same as <code>compiler.compile</code> but generates SSR-specific render function code by optimizing parts of the template into string concatenation in order to improve SSR performance.</p> <p>This is used by default in <code>vue-loader@&gt;=12</code> and can be disabled using the <a href="https://vue-loader.vuejs.org/en/options.html#optimizessr" target="_blank" rel="noopener noreferrer">optimizeSSR<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> option.</p> <hr> <h3 id="compiler-ssrcompiletofunction-template"><a href="#compiler-ssrcompiletofunction-template" aria-hidden="true" class="header-anchor">#</a> compiler.ssrCompileToFunction(template)</h3> <blockquote><p>2.4.0+</p></blockquote> <p>Same as <code>compiler.compileToFunction</code> but generates SSR-specific render function code by optimizing parts of the template into string concatenation in order to improve SSR performance.</p> <hr> <h3 id="compiler-parsecomponent-file-options"><a href="#compiler-parsecomponent-file-options" aria-hidden="true" class="header-anchor">#</a> compiler.parseComponent(file, [options])</h3> <p>Parse a SFC (single-file component, or <code>*.vue</code> file) into a descriptor (refer to the <code>SFCDescriptor</code> type in <a href="https://github.com/vuejs/vue/blob/dev/flow/compiler.js" target="_blank" rel="noopener noreferrer">flow declarations<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>). This is used in SFC build tools like <code>vue-loader</code> and <code>vueify</code>.</p> <h4 id="options-2"><a href="#options-2" aria-hidden="true" class="header-anchor">#</a> Options</h4> <h4 id="pad"><a href="#pad" aria-hidden="true" class="header-anchor">#</a> <code>pad</code></h4> <p><code>pad</code> is useful when you are piping the extracted content into other pre-processors, as you will get correct line numbers or character indices if there are any syntax errors.</p> <ul><li>with <code>{ pad: &quot;line&quot; }</code>, the extracted content for each block will be prefixed with one newline for each line in the leading content from the original file to ensure that the line numbers align with the original file.</li> <li>with <code>{ pad: &quot;space&quot; }</code>, the extracted content for each block will be prefixed with one space for each character in the leading content from the original file to ensure that the character count remains the same as the original file.</li></ul> <hr> <h3 id="compiler-compiletowxml-compiled-options"><a href="#compiler-compiletowxml-compiled-options" aria-hidden="true" class="header-anchor">#</a> compiler.compileToWxml(compiled, [options])</h3> <p>Parse a AST庸ㄱbstract Syntax Tree庸결nto a String which is the type of string of a WXML(WeiXin Markup Language) file.This is used after a template compiled into a AST with the function <code>compiler.compile(template, [options])</code> .</p> <h4 id="compiled"><a href="#compiled" aria-hidden="true" class="header-anchor">#</a> compiled</h4> <p><code>compiled</code> is the result of <a href="#compilercompiletemplate-options">compiler.compile</a>,with this function you can compile the <a href="/techthink/mpvue/mpvue-template-compiler.html#https:/cn.vuejs.org/v2/guide/syntax.html">template</a> strings.</p> <h4 id="options-3"><a href="#options-3" aria-hidden="true" class="header-anchor">#</a> Options</h4> <ul><li>components: <code>components</code> is an Object includes the properties of the components in the template where is the paramter <code>compiled</code> comes from.
<code>components</code> is necessary if there are components declared in your vue file before compiling. The formate of <code>components</code> maybe like this:
<code>{ componentA: { src: '/components/coma', name: 'componentA' }, componentB: { src: '/components/comb', name: 'componentB' } }</code></li> <li>moduleId: The unique identifier of component.Using <code>moduleId</code> you can inject an only name of components and when you use it in <code>[css scoped]</code> or <code>[css modules]</code> ,the style of component won't be covered.</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/techthink/assets/js/app.7b5c53e5.js" defer></script><script src="/techthink/assets/js/2.7e3077ca.js" defer></script><script src="/techthink/assets/js/17.7a1d5864.js" defer></script>
  </body>
</html>
