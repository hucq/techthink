(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{186:function(t,a,s){t.exports=s.p+"assets/img/1.2426cbae.png"},187:function(t,a,s){t.exports=s.p+"assets/img/2.893df588.jpg"},210:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"mpvue-lint"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mpvue-lint","aria-hidden":"true"}},[t._v("#")]),t._v(" mpvue-lint")]),t._v(" "),n("blockquote",[n("p",[t._v("针对很多需要h5和小程序页面同构开发的场景，开发者会出现很多h5的vue组件直接搬到mpvue中调试的开发流程。虽然mpvue支持大部分的vue语法，但是仍有些边界\n情况需要开发者自行处理。为了提升开发效率，我们提供mpvue-lint插件。目前有两个功能模块，语法检查模块和内存检查模块")])]),t._v(" "),n("h1",{attrs:{id:"mpvue-lint-语法检查"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mpvue-lint-语法检查","aria-hidden":"true"}},[t._v("#")]),t._v(" mpvue-lint 语法检查")]),t._v(" "),n("p",[t._v("语法检查模块,mpvue-lint检测h5版本的vue组件是否符合mpvue语法规则")]),t._v(" "),n("p",[t._v("##使用方法 npm install mpvue-lint\n构建流中调用，传入entry(array) ,要检查的入口Vue文件列表 ,示例代码：")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" mpvueLint "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mpvue-lint'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nmpvueLint"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tentry"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\t   path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mpvue/page/worldcup/home/index.vue'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t   path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mpvue/page/worldcup/card_detail/index.vue'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t   path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mpvue/page/worldcup/activity_rules/index.vue'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("如果有引用路径的错误，会报白色提示"),n("br"),t._v("\n如果有template错误，比如组件上用class,绑定click事件等会报"),n("strong",[t._v("红色")]),t._v("错误名，文件名，和组件名"),n("br"),t._v("\n如果Vue文件方法里有写法错误，如使用zepto,window,document等，会报"),n("strong",[t._v("红色")]),t._v("错误名，文件名，方法名，行号"),n("br"),t._v("\n如果想自定义需要报错的函数调用，请按照"),n("strong",[t._v("mpvuelint.json")]),t._v('里的格式添加你的函数名，例如,"zepto":true会在 vue文件中所有调用zepto的地方报错提醒'),n("br"),t._v("\nlint检查非强制阻拦编译过程，FE同学自己根据提醒修改业务代码")]),t._v(" "),n("p",[t._v("运行结果如图："),n("br"),t._v(" "),n("img",{attrs:{src:s(186),width:"800",alt:"语法检查"}})]),t._v(" "),n("h1",{attrs:{id:"mpvue-trace-内存检查"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mpvue-trace-内存检查","aria-hidden":"true"}},[t._v("#")]),t._v(" mpvue-trace 内存检查")]),t._v(" "),n("blockquote",[n("p",[t._v("内存检查模块,mpvue-trace辅助开发者检查操作时数据更新的变化，因为最后小程序更新数据需要调用setData接口，而setData小程序真机是\n通过把JSON对象转换字符串传递给实际的页面的，大块数据会造成页面卡顿，甚至极端情况会造成页面少渲染一部分(更新数据过大会丢弃一部分更新)。\n为了开发者更直观看到mpvue页面每次更新数据量，这个插件会检查每次数据更新后500ms内整个页面的数据更新总量。")])]),t._v(" "),n("p",[t._v("##使用方法 npm install mpvue-lint\n在mpvue/你的工作目录/你的页面目录/main.js中加入如下引用")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" mpvueTrace "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mpvue-lint/mpvue-trace'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nmpvueTrace"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("trace")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Vue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//Vue是当前页面中的Vue实例")]),t._v("\n")])])]),n("p",[t._v("##使用注意！\n上面的调试代码会监听Vue.$updateDataToMP方法并把更新数据转字符串计算大小，会有一定性能损耗，仅做调试trace用，"),n("strong",[t._v("上线代码一定要去除")]),t._v("。")]),t._v(" "),n("p",[t._v("#源码")]),t._v(" "),n("blockquote",[n("p",[t._v("mpvue-lint的源码已在github上开源"),n("a",{attrs:{href:"https://github.com/mpvue/mpvue-lint",target:"_blank",rel:"noopener noreferrer"}},[t._v("github 地址请参见"),n("OutboundLink")],1),t._v(" 欢迎开发者们根据自己项目的情况灵活增减功能")])]),t._v(" "),n("p",[t._v("源码基本原理图："),n("br"),t._v(" "),n("img",{staticStyle:{margin:"0 auto",display:"block"},attrs:{src:s(187),width:"400",alt:"语法检查流程"}})])])},[],!1,null,null,null);a.default=e.exports}}]);